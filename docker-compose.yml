version: "3.7"

x-log-basic: &log
  logging:
    driver: "json-file"
    options:
      max-size: "1m"
      max-file: "3"
      labels: "system"
x-deploy: &deploy
  deploy:
    resources:
      limits:
        cpus: "0.1"
        memory: "50M"

services:
  disco:
    <<: [*deploy, *log]
    image: slinkgo/disco:alpine
    container_name: disco
    ports:
      - "127.0.0.1:8080:8080"
    environment:
      - LOGGING_LEVEL=INFO
#    restart: unless-stopped
